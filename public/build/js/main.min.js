(()=>{var e={478:()=>{document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("categoria_asistencia"),t=document.getElementById("mes_asistencia"),n=document.getElementById("vista_select"),o=document.getElementById("categoria_select"),a=document.getElementById("select_mes"),c=document.getElementById("general_prov"),d=document.getElementById("general_ofi"),l={prov:{9:document.getElementById("sept_prov"),10:document.getElementById("oct_prov"),11:document.getElementById("nov_prov"),12:document.getElementById("dic_prov"),1:document.getElementById("ene_prov"),2:document.getElementById("feb_prov"),3:document.getElementById("mar_prov"),4:document.getElementById("abr_prov"),5:document.getElementById("may_prov")},ofi:{9:document.getElementById("sept_ofi"),10:document.getElementById("oct_ofi"),11:document.getElementById("nov_ofi"),12:document.getElementById("dic_ofi"),1:document.getElementById("ene_ofi"),2:document.getElementById("feb_ofi"),3:document.getElementById("mar_ofi"),4:document.getElementById("abr_ofi"),5:document.getElementById("may_ofi")}};function i(){for(let e in l.prov)l.prov[e].classList.add("oculto"),l.ofi[e].classList.add("oculto")}function s(e){for(let t in l[e])l[e][t].classList.remove("oculto")}function r(){const o=n.value;"1"===o?(e.classList.add("oculto--filtro"),t.classList.add("oculto--filtro"),c.classList.remove("oculto"),d.classList.remove("oculto"),i()):"2"===o&&(e.classList.remove("oculto--filtro"),t.classList.remove("oculto--filtro"),c.classList.add("oculto"),d.classList.add("oculto"),m()),u()}function m(){i();const e=o.value,t=a.value;"1"===e?""===t?(s("prov"),s("ofi")):(l.prov[t].classList.remove("oculto"),l.ofi[t].classList.remove("oculto")):"2"===e?""===t?s("prov"):l.prov[t].classList.remove("oculto"):"3"===e&&(""===t?s("ofi"):l.ofi[t].classList.remove("oculto")),u()}function u(){document.querySelectorAll(".icono-copy").forEach(e=>{const t=e.closest("table"),n=Array.from(e.parentElement.parentElement.children).indexOf(e.parentElement),o=e.cloneNode(!0);e.replaceWith(o),function(e,t,n){e.addEventListener("click",(function(o){o.stopPropagation(),function(e,t){let n="";e.querySelectorAll("tbody tr").forEach(e=>{const o=e.cells[t];o&&!e.classList.contains("oculto")&&(n+=o.textContent.trim()+"\n")}),navigator.clipboard.writeText(n).then(()=>{setTimeout(()=>{Swal.fire({icon:"success",title:"Copiado al portapapeles!"})},700)},e=>{console.error("Error al copiar al portapapeles: ",e)})}(t,n),e.classList.add("animate__animated","animate__rubberBand"),e.classList.remove("animate__rubberBand"),e.offsetWidth,e.classList.add("animate__rubberBand")}))}(o,t,n)})}n.addEventListener("change",r),o.addEventListener("change",m),a.addEventListener("change",m),r()}))},48:()=>{document.querySelectorAll(".btn-asiste").forEach(e=>{e.addEventListener("click",(function(){!function(e,t){const n=document.getElementById("asiste_"+e);n.value=t.getAttribute("data-value"),t.parentNode.querySelectorAll(".btn-asiste").forEach(e=>e.classList.remove("selected")),t.classList.add("selected"),console.log(n)}(e.getAttribute("data-index"),e)}))})},656:()=>{document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("f_nombre"),t=document.querySelectorAll(".table-lista__tr");function n(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}e.addEventListener("input",(function(){var o=n(e.value.toLowerCase());t.forEach((function(e){n(e.querySelector(".table-lista__td--nombre").textContent.toLowerCase()).includes(o)?e.style.display="":e.style.display="none"}))}))}))},37:()=>{!function(){const e=document.getElementById("t_nombrus_filtrus"),t=document.getElementById("camiseta"),n=document.getElementById("calzona"),o=document.getElementById("chandal"),a=document.getElementById("cviento"),c=document.querySelectorAll(".table__tr"),d=document.getElementById("restableceFiltrus"),l=document.getElementById("copiarNombrus"),i=document.getElementById("copiarCamisetus"),s=document.getElementById("copiarCalzonus"),r=document.getElementById("copiarChandalus"),m=document.getElementById("copiarCortavientus");function u(e,t){e.addEventListener("click",(function(){!function(e){let t="";c.forEach(n=>{if("none"!==n.style.display){const o=n.querySelectorAll(".table__td");t+=o[e].textContent.trim()+"\n"}}),navigator.clipboard.writeText(t).then((function(){setTimeout((function(){Swal.fire({icon:"success",title:"¡Hecho!",text:"Copiado al portapapeles"})}),700)}),(function(e){console.error("Error al copiar contenido al portapapeles:",e)}))}(t),e.classList.add("animate__animated","animate__rubberBand"),e.classList.remove("animate__rubberBand"),e.offsetWidth,e.classList.add("animate__rubberBand")}))}function p(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function f(e,t){e.addEventListener("change",(function(){const e=this.value;c.forEach(n=>{const o=n.querySelector(t).getAttribute("data-value");n.style.display=o===e||""===e?"":"none"})}))}e&&t&&n&&o&&a&&0!==c.length?(d.addEventListener("click",(function(){e.value="",t.selectedIndex=0,n.selectedIndex=0,o.selectedIndex=0,a.selectedIndex=0,c.forEach(e=>{e.style.display=""})})),u(l,0),u(i,1),u(s,2),u(r,3),u(m,4),e.addEventListener("input",(function(){const e=p(this.value.trim().toLowerCase());c.forEach(t=>{const n=t.querySelector("#td_nombre");n&&(p(n.textContent.trim().toLowerCase()).includes(e)?t.style.display="":t.style.display="none")})})),f(t,"#td_camiseta"),f(n,"#td_calzonas"),f(o,"#td_chandal"),f(a,"#td_chubasquero")):console.error("¡Alguno de los elementos no se ha encontrado!")}()},341:()=>{!function(){function e(e){const t=document.getElementById("recuento-miembros");if(e.length>0){t.innerHTML="";const n=document.createElement("span");n.textContent="Total: ",n.style.color="#principal",n.style.fontWeight="bold";const o=1===e.length?e.length+" persona":e.length+" personas";t.appendChild(n),t.insertAdjacentText("beforeend",o),t.style.display="block"}else t.style.display="none"}!async function(){try{const o="/api/miembros",a=await fetch(o),c=await a.json(),d=Object.values(c);function t(){const t=document.getElementById("nombre").value.toLowerCase(),o=document.getElementById("categoria").value,a=document.getElementById("filtroPack").value,c=document.getElementById("filtroPago").value;let l=d.filter(e=>`${e.apellido1} ${e.apellido2}, ${e.nombre}`.toLowerCase().includes(t));o&&(l=l.filter(e=>e.categoria_id===o)),a&&(l=l.filter(e=>e.pack_id===a)),c&&(l=l.filter(e=>"6"===c?e.pendiente_pagar===e.total_a_pagar:"7"===c?parseInt(e.pendiente_pagar)===e.cuota_pendiente_tras_primer_pago:"8"!==c||parseInt(e.pendiente_pagar)===e.cuota_pendiente_tras_segundo_pago)),e(l),n(l)}function n(e){const t=document.querySelector(".table__tbody");if(t.innerHTML="",e.length>0)e.forEach(e=>{const n=document.createElement("tr");n.classList.add("table__tr");const o=`${e.apellido1} ${e.apellido2}, ${e.nombre}`,a=document.createElement("td");a.classList.add("table__td"),a.textContent=o,a.setAttribute("data-label","Nombre:"),n.appendChild(a);const c=document.createElement("td");c.classList.add("table__td"),c.textContent=e.nombre_categoria,c.setAttribute("data-label","Categoría:"),n.appendChild(c);const d=document.createElement("td");d.classList.add("table__td"),d.textContent=e.email,d.setAttribute("data-label","Email:"),n.appendChild(d);const l=document.createElement("td");l.classList.add("table__td"),l.textContent=e.telefono,l.setAttribute("data-label","Teléfono:"),n.appendChild(l);const i=document.createElement("td");i.classList.add("table__td"),i.textContent=e.nombre_pack,i.setAttribute("data-label","Pack:"),n.appendChild(i);const s=document.createElement("td");if(s.classList.add("table__td"),s.textContent=e.pendiente_pagar+".00 €",s.setAttribute("data-label","Pendiente:"),n.appendChild(s),console.log(isAdmin),isAdmin){const t=document.createElement("td");t.classList.add("table__td--acciones");const o=document.createElement("a");o.classList.add("table__accion","table__accion--editar"),o.href="/admin/miembros/editar?id="+e.id,o.innerHTML='<i class="fa-solid fa-user-pen"></i>Editar',t.appendChild(o);const a=document.createElement("form");a.method="POST",a.action="/admin/miembros/eliminar",a.classList.add("table__formulario");const c=document.createElement("input");c.type="hidden",c.name="id",c.value=e.id,a.appendChild(c);const d=document.createElement("button");d.type="submit",d.classList.add("table__accion","table__accion--eliminar"),d.innerHTML='<i class="fa-solid fa-circle-xmark"></i>Eliminar',a.appendChild(d),t.appendChild(a),n.appendChild(t)}t.appendChild(n)});else{const e=document.createElement("tr"),n=document.createElement("td");n.textContent="No hay miembros registrados",n.classList.add("text-center","padding"),n.setAttribute("colspan","7"),e.appendChild(n),t.appendChild(e)}}e(d),document.getElementById("nombre").addEventListener("input",t),document.getElementById("categoria").addEventListener("change",t),document.getElementById("filtroPack").addEventListener("change",t),document.getElementById("filtroPago").addEventListener("change",t),n(d),document.getElementById("restablecerFiltros").addEventListener("click",(function(){document.getElementById("categoria").value="",document.getElementById("filtroPack").value="",document.getElementById("filtroPago").value="",t()})),document.getElementById("copiarEmails").addEventListener("click",(function(){const e=document.querySelector("#copiarEmails");e.classList.add("animate__animated","animate__rubberBand"),e.classList.remove("animate__rubberBand"),e.offsetWidth,e.classList.add("animate__rubberBand");const t=document.querySelectorAll(".table__tbody .table__td:nth-child(3)"),n=Array.from(t).map(e=>e.textContent.trim()).join("\n");navigator.clipboard.writeText(n),setTimeout((function(){Swal.fire({icon:"success",title:"¡Hecho!",text:"Emails copiados al portapapeles"})}),700),console.log("Emails copiados al portapapeles")})),document.getElementById("copiarNombres").addEventListener("click",(function(){const e=document.querySelector("#copiarNombres");e.classList.add("animate__animated","animate__rubberBand"),e.classList.remove("animate__rubberBand"),e.offsetWidth,e.classList.add("animate__rubberBand");const t=Array.from(document.querySelectorAll(".table__tbody .table__td:nth-child(1)")).map(e=>e.textContent.trim()).join("\n");navigator.clipboard.writeText(t).then((function(){console.log("Nombres copiados al portapapeles"),setTimeout((function(){Swal.fire({icon:"success",title:"¡Hecho!",text:"Nombres copiados al portapapeles"})}),700)}),(function(e){console.error("Error al copiar nombres: ",e)}))}))}catch(e){console.error(e)}}()}()},231:()=>{!function(){const e=document.querySelectorAll("picture img");function t(){const e=document.querySelector(".modal");e&&(e.classList.add("fade-out"),setTimeout(()=>{e.remove()},450))}document.addEventListener("DOMContentLoaded",(function(){e.forEach((function(e){e.onclick=function(){!function(e){const n=document.createElement("DIV");n.classList.add("modal"),n.onclick=t;const o=document.createElement("BUTTON");o.textContent="X",o.classList.add("btn-cerrar"),o.onclick=t;const a=document.createElement("img");a.src=e.src,a.alt=e.alt,n.appendChild(a),n.appendChild(o),document.querySelector("body").appendChild(n)}(e)}}))}))}()},328:()=>{document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".barra"),t=document.querySelector(".navegacion"),n=document.querySelector("#boton");n&&n.addEventListener("click",(function(){e.classList.toggle("mostrar"),t.classList.toggle("mostrar"),t.classList.contains("mostrar")?n.classList.add("abierto"):n.classList.remove("abierto")}))}))},534:()=>{!function(){const e=document.querySelector(".alerta");e.addEventListener("click",(function(){e.classList.add("mostrar_sweet"),Swal.fire({icon:"success",title:"¡Hecho!"}),setTimeout((function(){e.classList.remove("mostrar_sweet")}),100)}))}()}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(478),n(48),n(656),n(37),n(341),n(231),n(328),n(534)})()})();
//# sourceMappingURL=main.js.map
